CREATE OR REPLACE FUNCTION register_user(
    p_login VARCHAR,
    p_password VARCHAR,
    p_age INT,
    p_height REAL,
    p_goal VARCHAR,
    p_fitness_level INT,
    p_available_days INT,
    p_role VARCHAR
) RETURNS INT AS $$
DECLARE
    new_user_id INT;
BEGIN
    INSERT INTO users (login, password, age, height, goal, fitness_level, available_days, role)
    VALUES (p_login, p_password, p_age, p_height, p_goal, p_fitness_level, p_available_days, p_role)
    RETURNING user_id INTO new_user_id;
    RETURN new_user_id;
END;
$$ LANGUAGE plpgsql;